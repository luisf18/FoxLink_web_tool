<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoxWire WebTool</title>
    <link rel="icon" type="image/png" href="favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="favicon/favicon.svg" />
    <link rel="shortcut icon" href="favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png" />
    <link rel="manifest" href="favicon/site.webmanifest" />
    
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/widgets.css">
    <link rel="stylesheet" href="css/charts.css">
    <link rel="stylesheet" href="css/cards.css">

    <!-- Bootstrap Icons -->
    <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <!-- Toolbar styles -->
    <link rel="stylesheet" href="tests/css/toolbar2.css">

</head>

<body>
    
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="brand-row">
                <div class="brand" id="brand">
                    <!--span class="brand-icon">üîó</span-->
                    <span class="brand-text">Fox webtool</span>
                </div>
                <span class="version" id="webtool-version">v0.4.2</span>
            </div>
            <button class="connect-btn" id="connectBtn">
                <span class="dot"></span>
                <span class="text">Disconnected</span>
            </button>
        </div>

        <div class="sidebar-controls">
            <button class="scan-btn" id="scanBtn" disabled>Scan</button>

            <!-- Barra de progresso -->
            <div class="progress-wrap" id="progressWrap">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <!-- Bal√£o de dispositivos -->
            <div class="scan-results" id="scanResults">
                <div class="scan-title">Dispositivos encontrados</div>
                <div class="scan-list" id="scanList"></div>
            </div>
        </div>

        <div class="sidebar-footer">

            <div id="links"></div>

            <!--
            <a href="https://github.com/luisf18/FoxLink_web_tool" target="_blank">
                FoxLink WebTool GitHub
            </a>
            
            <a href="serial.html" target="_blank">
                <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="currentColor" 
                    class="bi bi-terminal" viewBox="0 0 16 16">
                    <path d="M6 9a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3A.5.5 0 0 1 6 9M3.854 4.146a.5.5 0 1 0-.708.708L4.793 6.5 3.146 8.146a.5.5 0 1 0 .708.708l2-2a.5.5 0 0 0 0-.708z"/>
                    <path d="M2 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1z"/>
                </svg>
                Serial Monitor!
            </a>
            <a href="uploader/" target="_blank">
                Arduino uploader
            </a>
            <a href="https://luisf18.github.io/fox_dynamics_docs/" target="_blank">
                Documenta√ß√£o Placas
            </a>

            <a href="v0" target="_blank">
                Vers√£o anterior v0.4.2
            </a>
            <a href="byteConverter.html" target="_blank">
                ByteConverter
            </a>
            <a href="deviceResolver.html" target="_blank">
                devicesJson
            </a>
            -->

            <img src="images/logo.png" class="footer-logo">
        </div>

    </div>
    
    <div class="cards-container" id="cards">
        <!--div class="cards-grid" id="cards-scroll"></div-->
    </div>

<script src="js/utils.js"></script>
<script src="js/widgets.js"></script>
<!--script src="js/device_card.js"></script-->
<script type="module">
    import { webtoolInit } from "./js/webtool.js";
    //import { createToolbar } from "./tests/js/toolbar.js";
    webtoolInit();

    function createToolbar(options = {}) {
        const {
            label = null,
            labelAlign = "left", // "left" | "center" | "right"
            style = "",              // ex: "clean"
            columns = 5,
            direction = "row",
            tools = []
        } = options;

        /* container */
        const toolbar = document.createElement("div");
        toolbar.className = "toolbar";

        if (style) {
            toolbar.dataset.style = style; // ex: data-style="clean"
        }

        /* label opcional */
        if (label) {
            const labelEl = document.createElement("div");
            labelEl.className = "toolbar-label";
            labelEl.textContent = label;

            // alinhamento do texto
            labelEl.style.textAlign = labelAlign;

            toolbar.appendChild(labelEl);
        }

        /* grid */
        const grid = document.createElement("div");
        grid.className = "toolbar-grid";

        /*/
        if (direction === "row") {
            grid.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;
            grid.style.gridAutoFlow = "row";
        } else {
            grid.style.gridTemplateColumns = "1fr";
            grid.style.gridAutoFlow = "column";
        }
        /*/

        /* tools */
        tools.forEach(t => {
            const a = document.createElement("a");
            a.href = t.link || "#";
            a.target = t.target || "_blank";
            a.dataset.label = t.label || "";

            const i = document.createElement("i");
            i.className = `bi ${t.icon}`;

            a.appendChild(i);
            grid.appendChild(a);
        });

        toolbar.appendChild(grid);
        return toolbar;
    }

    const tools = [
        { icon: "bi-github", label: "Reposit√≥rio", link: "https://github.com/luisf18/FoxLink_web_tool" },
        { icon: "bi-file-earmark-text", label: "Documenta√ß√£o", link: "https://luisf18.github.io/fox_dynamics_docs/" },
        { icon: "bi-terminal", label: "Serial Monitor", link: "serial.html" },
        { icon: "bi-cloud-arrow-up", label: "Uploader", link: "uploader/" },
        { icon: "bi-tools", label: "Binary Viewer", link: "binaryViewer.html" },
        //{ icon: "bi-cpu", label: "Devices", link: "#" },
        { icon: "bi-braces", label: "devices Json", link: "deviceResolver.html" },
        { icon: "bi-arrow-repeat", label: "Converter", link: "byteConverter.html" },
        { icon: "bi-badge-vo", label: "Ver. 0.4.2", link: "v0" }
    ];

    document.getElementById("links").appendChild(
        createToolbar( {
            //label: "tools and links",
            style: "clean",
            columns: 5,
            tools
        })
    );

</script>

<script type="module">
</script>


</body>
</html>
